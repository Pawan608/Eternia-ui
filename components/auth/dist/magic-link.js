exports.createAuthService=function(e){var r,t=0;return{onLogin:function(r){try{return Promise.resolve(e.auth.loginWithMagicLink(r))}catch(e){return Promise.reject(e)}},onLogout:function(){try{return r=null,t=0,Promise.resolve(e.auth.signOut())}catch(e){return Promise.reject(e)}},onLoadUser:function(){try{return Promise.resolve(e.user.isLoggedIn()).then(function(r){return function(){if(r)return Promise.resolve(e.user.getMetadata())}()})}catch(e){return Promise.reject(e)}},onGetToken:function(){try{var n=function(){if(!r||Date.now()<=t)return t=Date.now()+600,Promise.resolve(e.user.getIdToken()).then(function(e){r=e})}();return Promise.resolve(n&&n.then?n.then(function(){return r}):r)}catch(e){return Promise.reject(e)}}}};
//# sourceMappingURL=magic-link.js.map
